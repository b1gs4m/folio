import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from"react/jsx-runtime";import{addPropertyControls,ControlType,useIsOnFramerCanvas}from"framer";import{cloneElement}from"react";import{Header,HelperFrame,ToDoList}from"https://framer.com/m/Index-nylz.js";import{useFramerCollectionList}from"https://framerusercontent.com/modules/uaC9hWf3ec7HqMv3sXMc/fThGQnEUZeWwDLSQMzea/Hooks.js";/**
* @framerSupportedLayoutWidth any-prefer-fixed * @framerSupportedLayoutHeight auto * * @framerIntrinsicWidth 500 * * @framerDisableUnlink */export default function Collection_Plus(props){const cmsPlusComponentName="CMS+ Collection+";const isOnFramerCanvas=useIsOnFramerCanvas();const
isDebuggingCMSPlus=!!props._cmsPlusDebugging;const linkedCollectionListFrame=props._collectionListInstance?.[0];const linkedNoSearchResultsFrame=props._noSearchResultsInstance?.[0];// any missing linked frames will show helper frame const missingFrames=!linkedCollectionListFrame||!linkedNoSearchResultsFrame;const{key,noSearchResults}=useFramerCollectionList({collectionPlusID:props.collectionID,framerCollectionList:linkedCollectionListFrame,isDebugging:isDebuggingCMSPlus});/**
* The collection list may undergo multiple updates during initial render and filter changes. * To optimize performance and prevent unnecessary re-renders, a key is used to track the list's state: * key = 0: The list is still being initialized or updated
due to filter changes. * key > 0: The list is stable and has finished updating. */const isUpdating=isOnFramerCanvas?false:key===0;// show the list when not loading, no missing frames, and doesn't have any errors const showCollectionList=!isUpdating&&!missingFrames&&!noSearchResults;const
showNoResultsFrame=isOnFramerCanvas?false:!missingFrames&&noSearchResults;if(isDebuggingCMSPlus){console.log("ðŸ”‘:",key);console.log("");}return /*#__PURE__*/_jsxs(_Fragment,{children:[missingFrames&&/*#__PURE__*/_jsxs(HelperFrame,{productName:cmsPlusComponentName,children:[/*#__PURE__*/_jsx(Header,{text:"Connect
Frames"}),/*#__PURE__*/_jsx(ToDoList,{items:[{text:"Connect to a Collection List.",isChecked:!!linkedCollectionListFrame},{text:"Connect a custom frame to display when there's no search results.",isChecked:!!linkedNoSearchResultsFrame}]})]}),showCollectionList&&/*#__PURE__*/cloneElement(linkedCollectionListFrame,{key,id:"cmsPlus",style:{...linkedCollectionListFrame.props?.style,...props?.style}}),showNoResultsFrame&&/*#__PURE__*/cloneElement(linkedNoSearchResultsFrame,{style:{...linkedNoSearchResultsFrame.props?.style,...props?.style}})]});}//
set the name that will be displayed in Assets menu Collection_Plus.displayName="Collection+";// property controls for Collection_Plus addPropertyControls(Collection_Plus,{collectionID:{type:ControlType.Number,title:"ID",defaultValue:0,min:0,displayStepper:true,step:1,description:`Explore
its [documentation](https://framercms.plus/documentation/component-collection-plus).`},_collectionListInstance:{type:ControlType.ComponentInstance,title:"Collection List",description:`Getting started [video](https://framercms.plus/documentation#quick-start)
guide.`},_noSearchResultsInstance:{type:ControlType.ComponentInstance,title:"No Search Results"}}); export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"Collection_Plus","slots":[],"annotations":{"framerDisableUnlink":"","framerIntrinsicWidth":"500","framerContractVersion":"1","framerSupportedLayoutWidth":"any-prefer-fixed","framerSupportedLayoutHeight":"auto"}},"__FramerMetadata__":{"type":"variable"}}}