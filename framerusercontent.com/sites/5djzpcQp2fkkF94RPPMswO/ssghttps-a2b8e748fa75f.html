import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";import{addPropertyControls,ControlType,RenderTarget,// @ts-ignore useQueryData,withCSS}from"framer";import{motion}from"framer-motion";import{borderPropertyControl,Border,fillProp,fillPropOnOff,createBackground,superfieldsId,FAVOURITES_FILTER_ID,DELIMITER,FilterFieldType,FilterTextCondition}from"https://framerusercontent.com/modules/FZjYlw33eNo8pxLbSFLX/NS2M1g7qVI7y5CFDNb6m/SuperfieldsShared.js";import{getCollectionData,getSelectItemForField}from"https://framerusercontent.com/modules/PNm0aYRdp2Urx1MCseUn/ELGxjV92WFMoGKTv2Ojs/CMSLibrary.js";import
useSuperfieldsStore from"https://framerusercontent.com/modules/OoGHZMzWDzm2mNN7bmeR/UmOIjvpgKrLZznysVdbK/Store.js";export var FilterBy;(function(FilterBy){FilterBy["Field"]="field";FilterBy["Favourites"]="favourites";})(FilterBy||(FilterBy={}));export
var FilterType;(function(FilterType){FilterType["Dropdown"]="dropdown";FilterType["ButtonGroup"]="buttonGroup";FilterType["ToggleSwitch"]="toggleSwitch";FilterType["Checkbox"]="checkbox";})(FilterType||(FilterType={}));export var OptionMode;(function(OptionMode){OptionMode["Auto"]="auto";OptionMode["Manual"]="manual";})(OptionMode||(OptionMode={}));export
var OptionOrder;(function(OptionOrder){OptionOrder["Default"]="default";OptionOrder["Alphabetical"]="alphabetical";})(OptionOrder||(OptionOrder={}));const ALL_SELECTED_VALUE="[{(ALL)}]";const LAYOUT_ALIGNMENTS={fill:"center",left:"start",center:"center",right:"end"};const
TOGGLE_VALUES={all:null,[ALL_SELECTED_VALUE]:null,off:false,on:true};const DASHES_ONLY_REGEX=/^-+$/;const CONDITION_FIELD_TYPES=[FilterFieldType.Text,FilterFieldType.Option,FilterFieldType.MultipleOptions];const DIVIDER="divider";const FAVOURITES_URL_PARAMETER="favorites";const
TRUE_VALUES=["true","yes","on"];const FALSE_VALUES=["false","no","off"];function FilterComponent(props){const{superfieldsId,filterBy,options,referenceFieldName,referenceFieldType,buttonGroupLayout,buttonGroupStyle,toggleMultiOptions,toggleTwoStateOptions,toggleTwoStateText,dropdownStyle,toggleSwitchStyle,checkboxStyle,layout,transition}=props;const
isCanvas=RenderTarget.current()===RenderTarget.canvas;const rawFieldType=filterBy=="field"?props.fieldType:FilterFieldType.Toggle;const fieldName=filterBy==="field"?rawFieldType==FilterFieldType.MultipleOptions?props.optionFieldNames.join(DELIMITER):props.fieldName:FAVOURITES_FILTER_ID;const
isReference=isReferenceType(rawFieldType);const fieldType=rawFieldType===FilterFieldType.MultipleOptions?FilterFieldType.Option:isReference?referenceFieldType:rawFieldType;const filterType=filterBy==="field"?fieldType===FilterFieldType.Toggle?props.filterTypeToggle:props.filterTypeOption:props.filterTypeToggle;const
allOption=fieldType===FilterFieldType.Toggle?toggleMultiOptions.allOption:options.allOption;const showDividers=(fieldType===FilterFieldType.Option||fieldType===FilterFieldType.Text)&&options.optionMode==="manual";const instanceId=filterBy==="favourites"?FAVOURITES_FILTER_ID:isReference?`${fieldName}${DELIMITER}${referenceFieldName}`:fieldName;const
urlParameter=props.urlParameter?props.urlParameter.name||(filterBy==="field"?rawFieldType==FilterFieldType.MultipleOptions?props.optionFieldNames.join(","):fieldName:FAVOURITES_URL_PARAMETER):null;const collectionList=props.collectionList?.[0];const{query,propertyControlsById,propertyControlsByTitle,collections,multiReferenceIdMap,multiReferenceQueries}=getCollectionData(collectionList);const
mainCollection=collections[0];const mainAlias=mainCollection?.alias;const mainPropertyControlsById=propertyControlsById[mainAlias]||{};const mainPropertyControlsByTitle=propertyControlsByTitle[mainAlias]||{};const select=[{collection:mainAlias,name:"id",type:"Identifier"}];let
multiReferenceSelect=null;let rAlias=null;if(!isCanvas&&rawFieldType!==FilterFieldType.MultipleOptions){if(rawFieldType===FilterFieldType.Reference){const selectItem=getSelectItemForField(fieldName,referenceFieldName,query,propertyControlsByTitle,collections);if(selectItem){select.push(selectItem);rAlias=selectItem.collection;}}else
if(rawFieldType===FilterFieldType.MultiReference){const propertyControl=mainPropertyControlsByTitle[fieldName];if(propertyControl){const fieldId=propertyControl?.id;const rCollection=collections.find(c=>c.alias===fieldId||c.alias===multiReferenceIdMap[fieldId]);if(rCollection){rAlias=rCollection.alias;const
originalSelect=query?.select||[];for(const item of originalSelect){if(item.type==="FunctionCall"){if(item.alias===rAlias){select.push(item);const rPropertyControlsById=propertyControlsById[item.alias];if(rPropertyControlsById){for(const rFieldId in rPropertyControlsById){const
control=rPropertyControlsById[rFieldId];if(control.title==referenceFieldName){multiReferenceSelect=[{collection:item.alias,name:"id",type:"Identifier"},{collection:item.alias,name:rFieldId,type:"Identifier"}];}}}break;}}}}}}else{const selectItem=getSelectItemForField(fieldName,null,query,propertyControlsByTitle,collections);if(selectItem){select.push(selectItem);}}}const
collectionData=query?useQueryData({...query,select}):[];let rCollectionData=[];if(Array.isArray(multiReferenceSelect)){const selectValue=multiReferenceSelect.find(v=>v&&v.hasOwnProperty("collection"));if(selectValue){const rQuery=multiReferenceQueries[selectValue.collection];if(rQuery){rCollectionData=useQueryData({...rQuery,select:multiReferenceSelect,where:undefined,orderBy:undefined});}}}let
optionValues=[];if(fieldType===FilterFieldType.Option||fieldType===FilterFieldType.Text){if(options.optionMode==="auto"){if(Object.keys(mainPropertyControlsById)?.length){if(rawFieldType===FilterFieldType.MultipleOptions){const{optionFieldNames}=props;const
optionValuesList=[];for(const fieldId in mainPropertyControlsById){const control=mainPropertyControlsById[fieldId];if(optionFieldNames.includes(control.title)){if(control.type==="enum"){optionValuesList.push(control.optionTitles);}else if(control.type==="string"){const
allValues=new Set;for(const index in collectionData){if(!isNaN(index)){const value=collectionData[index][fieldId];if(value!=""&&value!=null){allValues.add(value);}}}optionValuesList.push(Array.from(allValues));}}}optionValues=Array.from(new Set(optionValuesList.flat()));//
Remove none option if(props.multipleOptionsNoneOption.length&&optionValues.includes(props.multipleOptionsNoneOption)){optionValues.splice(optionValues.indexOf(props.multipleOptionsNoneOption),1);}}else{let control=null;let fieldId=null;if(isReference){const
rPropertyControlsByTitle=propertyControlsByTitle[rAlias];if(rPropertyControlsByTitle){control=rPropertyControlsByTitle[referenceFieldName];}fieldId=control?rawFieldType===FilterFieldType.Reference?`${rAlias}.${control.id}`:control.id:null;}else{control=mainPropertyControlsByTitle[fieldName];fieldId=control?control.id:null;}if(control){if(control.type==="enum"){optionValues=control.optionTitles;}else
if(control.type==="string"){const data=rawFieldType===FilterFieldType.MultiReference?rCollectionData:collectionData;const allValues=new Set;for(const index in data){if(!isNaN(index)){const value=data[index][fieldId];if(value!==""&&value!==null&&value!==undefined){allValues.add(value);}}}optionValues=Array.from(allValues);}}}}else
if(isCanvas&&(filterType!=="dropdown"||!allOption)){optionValues=[options.placeholder];}if(options.optionOrder==="alphabetical"){optionValues=optionValues.sort();}}else if(options.optionMode==="manual"){optionValues=options.optionValues;}}if(!Array.isArray(optionValues)){optionValues=[];}const
defaultOptionIsValid=options.defaultValue.length&&optionValues.includes(options.defaultValue);let offValue=null;let onValue=null;let defaultValue=null;if(fieldType==FilterFieldType.Toggle){if(filterType=="dropdown"||filterType=="buttonGroup"){const values=[];if(toggleMultiOptions.allOption){values.push(null);}if(toggleMultiOptions.order=="yesNo"){if(toggleMultiOptions.yesOption){values.push(true);}if(toggleMultiOptions.noOption){values.push(false);}}else{if(toggleMultiOptions.noOption){values.push(false);}if(toggleMultiOptions.yesOption){values.push(true);}}defaultValue=values.includes(TOGGLE_VALUES[toggleMultiOptions.defaultValue])?TOGGLE_VALUES[toggleMultiOptions.defaultValue]:values[0];}else{offValue=TOGGLE_VALUES[toggleTwoStateOptions.offState];onValue=TOGGLE_VALUES[toggleTwoStateOptions.onState];defaultValue=toggleTwoStateOptions.defaultValue=="off"?offValue:onValue;}}else{defaultValue=defaultOptionIsValid?options.defaultValue:!options.allOption&&filterType=="dropdown"?optionValues[0]??null:null;}const
getInitialValue=()=>{let initialValue=defaultValue;if(urlParameter&&!isCanvas){const urlParams=new URLSearchParams(window.location.search);const paramValue=urlParams.get(urlParameter);if(paramValue){if(fieldType===FilterFieldType.Toggle){const lowerParamValue=paramValue.toLowerCase();if(TRUE_VALUES.includes(lowerParamValue)){initialValue=true;}else
if(FALSE_VALUES.includes(lowerParamValue)){initialValue=false;}}else{if(paramValue.includes(DELIMITER)){const values=paramValue.split(DELIMITER);if(values.every(value=>optionValues.includes(value))){initialValue=paramValue;}}else if(optionValues.includes(paramValue)){initialValue=paramValue;}}}}return
initialValue;};const initialValue=getInitialValue();const initialFiltersForInstanceId={fieldName,referenceFieldName:isReference?referenceFieldName:null,referenceFieldType:isReference?referenceFieldType:null,value:initialValue,defaultValue,multiSelect:filterType=="buttonGroup"&&props.multiSelect,fieldType:rawFieldType,noneOption:rawFieldType==FilterFieldType.MultipleOptions?props.multipleOptionsNoneOption:undefined,condition:CONDITION_FIELD_TYPES.includes(fieldType)?props.textCondition:FilterTextCondition.Equals,urlParameter};const[_filters,setFilterValue]=useSuperfieldsStore(superfieldsId,state=>[state.filters,state.setFilterValue],state=>{const
initialValue=getInitialValue();state.filters[instanceId]=initialFiltersForInstanceId;});// HACK: There is a race condition in useSuperFieldsStore // The initial data is stale and requires a rerender to get updated. // The following ensure we get the initial
data correctly, but this will need fixing // inside the useSuperfieldsStore. const filters=_filters[instanceId]?_filters:{[instanceId]:initialFiltersForInstanceId};const value=isCanvas?defaultValue:filters[instanceId]?.value;const setFilter=newValue=>{setFilterValue(instanceId,newValue);};const
optionItems=[];if(fieldType===FilterFieldType.Option||fieldType===FilterFieldType.Text){for(let i=0;i
<optionValues.length;i++){const value=optionValues[i];if(showDividers&&isDivider(value)){optionItems.push(DIVIDER);}else if(value){optionItems.push({value,text:value});}}}else
    if(fieldType==FilterFieldType.Toggle){if(toggleMultiOptions.order=="yesNo" ){if(toggleMultiOptions.yesOption){optionItems.push({value: "on",text:toggleMultiOptions.yesText});}if(toggleMultiOptions.noOption){optionItems.push({value: "off",text:toggleMultiOptions.noText});}}else{if(toggleMultiOptions.noOption){optionItems.push({value:
    "off",text:toggleMultiOptions.noText});}if(toggleMultiOptions.yesOption){optionItems.push({value: "on",text:toggleMultiOptions.yesText});}}}const layers=[];switch(filterType){case "dropdown":const dropdownArrow=dropdownStyle.arrow;const pt=dropdownStyle.paddingIsMixed?dropdownStyle.paddingTop:dropdownStyle.padding;const
    pl=dropdownStyle.paddingIsMixed?dropdownStyle.paddingLeft:dropdownStyle.padding;const pb=dropdownStyle.paddingIsMixed?dropdownStyle.paddingBottom:dropdownStyle.padding;const pr=(dropdownStyle.paddingIsMixed?dropdownStyle.paddingRight:dropdownStyle.padding)+(dropdownArrow?dropdownArrow.size+dropdownArrow.gap:0);const
    dropdownRadius=dropdownStyle.radiusIsMixed?`${dropdownStyle.radiusTopLeft}px ${dropdownStyle.radiusTopRight}px ${dropdownStyle.radiusBottomRight}px ${dropdownStyle.radiusBottomLeft}px`:`${dropdownStyle.radius}px`;layers.push(/*#__PURE__*/_jsxs(
    "select",{className: "superfields-dropdown",value:fieldType==FilterFieldType.Toggle?({true: "on",false: "off",null:ALL_SELECTED_VALUE})[String(value)]:value||(allOption?ALL_SELECTED_VALUE:defaultValue),onChange:event=>{if(fieldType==FilterFieldType.Toggle){setFilter(TOGGLE_VALUES[event.target.value]);}else{setFilter(event.target.value==ALL_SELECTED_VALUE?null:event.target.value);}},style:{position:"relative",appearance:"none",height:"100%",cursor:"pointer",...createBackground(dropdownStyle.fill),color:dropdownStyle.fontColor,padding:`${pt}px
    ${pr}px ${pb}px ${pl}px`,borderRadius:dropdownRadius,border:"none",boxShadow:dropdownStyle.shadows,backdropFilter:dropdownStyle.bgBlur?`blur(${dropdownStyle.bgBlur}px)`:undefined,...props.font,...props.style},children:[allOption&&/*#__PURE__*/_jsx("option",{value:ALL_SELECTED_VALUE,children:fieldType==FilterFieldType.Toggle?toggleMultiOptions.allText:options.allText}),optionItems.map((item,index)=>item===DIVIDER?/*#__PURE__*/_jsx("hr",{}):/*#__PURE__*/_jsx("option",{value:item.value,children:item.text},index))]}),dropdownStyle.border&&/*#__PURE__*/_jsx(Border,{...dropdownStyle.border,radius:dropdownRadius}));if(dropdownArrow){layers.push(/*#__PURE__*/_jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:dropdownArrow.size,height:dropdownArrow.size,viewBox:"0
    0 18 18",fill:"none",strokeWidth:dropdownArrow.stroke,stroke:dropdownArrow.color??dropdownStyle.fontColor,strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block",position:"absolute",right:dropdownStyle.paddingIsMixed?dropdownStyle.paddingRight:dropdownStyle.padding,top:`calc(50%
    - ${dropdownArrow.size/2}px)`,pointerEvents:"none"},children:/*#__PURE__*/_jsx("path",{d:"M2 5.5L9 12.5L16 5.5"})}));}break;case"buttonGroup":layers.push(/*#__PURE__*/_jsxs("div",{style:{display:"flex",flexDirection:buttonGroupLayout.direction=="horizontal"?"row":"column",flexWrap:buttonGroupLayout.wrap?"wrap":"nowrap",justifyContent:buttonGroupLayout.distribute,columnGap:buttonGroupLayout.gapH,rowGap:buttonGroupLayout.gapV,textAlign:props.font?.textAlign||"center",...props.style},children:[allOption&&/*#__PURE__*/_jsx(FilterButton,{selected:value==null,onClick:()=>setFilter(null),text:options.allText,direction:buttonGroupLayout.direction,width:buttonGroupLayout.width,transition:transition,...buttonGroupStyle}),optionItems.map((item,index)=>item===DIVIDER?/*#__PURE__*/_jsx(ButtonGroupDivider,{...props.dividerStyle,layout:buttonGroupLayout}):/*#__PURE__*/_jsx(FilterButton,{selected:fieldType==FilterFieldType.Toggle?value==(item.value=="on"):props.multiSelect?value?value.split(DELIMITER).includes(item.value):false:value==item.value,onClick:()=>{if(fieldType==FilterFieldType.Toggle){setFilter(item.value=="on");}else
    if(props.multiSelect){if(!value){setFilter(item.value);}else{const values=value?value.split(DELIMITER):[];if(value==item.value){if(options.allOption||!defaultOptionIsValid){setFilter(null);}}else if(values.includes(item.value)){setFilter(values.filter(v=>v!=item.value).join(DELIMITER));}else{setFilter(`${value}${DELIMITER}${item.value}`);}}}else{if(value==item.value&&(!defaultOptionIsValid||options.allOption)){setFilter(null);}else{setFilter(item.value);}}},text:item.text,direction:buttonGroupLayout.direction,width:buttonGroupLayout.width,transition:transition,...buttonGroupStyle},index))]}));break;case"toggleSwitch":const{height,padding,border,switchBorder}=toggleSwitchStyle;return
    /*#__PURE__*/_jsxs("div",{onClick:()=>setFilter(value==onValue?offValue:onValue),style:{display:"flex",flexDirection:toggleTwoStateText?.location=="left"?"row-reverse":"row",gap:toggleTwoStateText?.gap,alignItems:"center",justifyContent:LAYOUT_ALIGNMENTS[layout],cursor:"pointer",...props.style},children:[/*#__PURE__*/_jsxs(motion.div,{animate:{...createBackground(toggleSwitchStyle.fill,value==onValue)},style:{position:"relative",height:height,width:height*2-padding*2,padding:padding,borderRadius:toggleSwitchStyle.radius},initial:false,transition:transition,children:[border&&/*#__PURE__*/_jsx(motion.div,{animate:{borderColor:value==onValue?border.colorOn:border.colorOff},style:{position:"absolute",inset:0,boxSizing:"border-box",borderRadius:toggleSwitchStyle.radius,borderWidth:border.width,borderStyle:border.style},initial:false,transition:transition}),/*#__PURE__*/_jsx(motion.div,{animate:{translateX:value==onValue?"100%":"0%",...createBackground(toggleSwitchStyle.switchFill,value==onValue)},style:{position:"absolute",height:height-padding*2,aspectRatio:1,left:padding,borderRadius:toggleSwitchStyle.radius-padding,boxShadow:toggleSwitchStyle.shadows,boxSizing:"border-box"},//
    layout initial:false,transition:transition,children:switchBorder&&/*#__PURE__*/_jsx(motion.div,{animate:{borderColor:value==onValue?switchBorder.colorOn:switchBorder.colorOff},style:{position:"absolute",inset:0,boxSizing:"border-box",borderRadius:toggleSwitchStyle.radius-padding,borderWidth:switchBorder.width,borderStyle:switchBorder.style},initial:false,transition:transition})})]}),toggleTwoStateText&&/*#__PURE__*/_jsx("p",{style:{color:toggleTwoStateText.fontColor,margin:0,userSelect:"none",flex:layout=="fill"?1:undefined,...props.font},children:value==onValue?toggleTwoStateText.onText:toggleTwoStateText.offText})]});break;case"checkbox":layers.push(/*#__PURE__*/_jsxs("div",{onClick:()=>setFilter(value==onValue?offValue:onValue),style:{display:"flex",flexDirection:toggleTwoStateText?.location=="left"?"row-reverse":"row",gap:toggleTwoStateText?.gap,alignItems:"center",justifyContent:LAYOUT_ALIGNMENTS[layout],cursor:"pointer",...props.style},children:[/*#__PURE__*/_jsx(motion.div,{animate:{backgroundColor:value==onValue?checkboxStyle.fillOn??"transparent":checkboxStyle.fillOff??"transparent",color:checkboxStyle.icon?.colorOn},style:{display:"flex",justifyContent:"center",alignItems:"center",width:checkboxStyle.size,height:checkboxStyle.size,borderRadius:checkboxStyle.radius,position:"relative"},initial:false,transition:transition,children:checkboxStyle.icon&&/*#__PURE__*/_jsx(motion.svg,{xmlns:"http://www.w3.org/2000/svg",width:checkboxStyle.icon.size,height:checkboxStyle.icon.size,viewBox:"0
    0 24 24",strokeWidth:checkboxStyle.icon.lineWidth*(24/checkboxStyle.icon.size),stroke:"currentColor",fill:"none",strokeLinecap:checkboxStyle.icon.rounded?"round":"butt",strokeLinejoin:checkboxStyle.icon.rounded?"round":"miter",animate:{opacity:value==onValue?1:0},style:{display:"block"},initial:false,transition:transition,children:/*#__PURE__*/_jsx("path",{d:"M5
    12l5 5l10 -10"})})}),toggleTwoStateText&&/*#__PURE__*/_jsx("p",{style:{color:toggleTwoStateText.fontColor,margin:0,userSelect:"none",flex:layout=="fill"?1:undefined,...props.font},children:value==onValue?toggleTwoStateText.onText:toggleTwoStateText.offText})]}));break;}return
    /*#__PURE__*/_jsx("div",{"data-superfields":true,style:{position:"relative",userSelect:"none",...props.font,...props.style},children:layers});}/** * @framerSupportedLayoutWidth any * @framerSupportedLayoutHeight any * @framerDisableUnlink */const
    Filter=withCSS(FilterComponent,["select.superfields-dropdown:focus-visible { outline: none; }"],"superfields-filter");export default Filter;const paddingRadiusProps={padding:{type:ControlType.FusedNumber,defaultValue:16,toggleKey:"paddingIsMixed",toggleTitles:["All","Individual"],valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0},radius:{type:ControlType.FusedNumber,defaultValue:8,toggleKey:"radiusIsMixed",toggleTitles:["All","Individual"],valueKeys:["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"],valueLabels:["TL","TR","BR","BL"],min:0}};addPropertyControls(Filter,{...superfieldsId(),filterBy:{type:ControlType.Enum,defaultValue:"field",options:["field","favourites"],optionTitles:["CMS
    Field","Favourites"],displaySegmentedControl:true,segmentedControlDirection:"vertical"},fieldType:{type:ControlType.Enum,defaultValue:FilterFieldType.Option,options:[FilterFieldType.Option,FilterFieldType.Toggle,FilterFieldType.Text,FilterFieldType.Reference,FilterFieldType.MultiReference,FilterFieldType.MultipleOptions],optionTitles:["Option","Toggle","Text","Reference","Multi-Reference","Multiple
    Options"],hidden:props=>props.filterBy!="field"},fieldName:{type:ControlType.String,defaultValue:"",placeholder:"CMS Field Name",hidden:props=>props.filterBy!=="field"||props.fieldType===FilterFieldType.MultipleOptions},referenceFieldType:{type:ControlType.Enum,defaultValue:FilterFieldType.Text,options:[FilterFieldType.Option,FilterFieldType.Toggle,FilterFieldType.Text],optionTitles:["Option","Toggle","Text"],hidden:props=>props.filterBy!=="field"||!isReferenceType(props.fieldType)},referenceFieldName:{type:ControlType.String,defaultValue:"Title",placeholder:"Reference
    CMS Field Name",hidden:props=>props.filterBy!=="field"||!isReferenceType(props.fieldType)},optionFieldNames:{type:ControlType.Array,title:"Field Names",control:{type:ControlType.String,defaultValue:"",placeholder:"CMS Field Name"},hidden:props=>props.filterBy!=="field"||props.fieldType!==FilterFieldType.MultipleOptions},filterTypeOption:{type:ControlType.Enum,defaultValue:"dropdown",options:["dropdown","buttonGroup"],optionTitles:["Dropdown","Buttons"],displaySegmentedControl:true,segmentedControlDirection:"vertical",title:"Type",hidden:props=>!isOptionType(props)},filterTypeToggle:{type:ControlType.Enum,defaultValue:"toggleSwitch",options:["toggleSwitch","checkbox","dropdown","buttonGroup"],optionTitles:["Toggle
    Switch","Checkbox","Dropdown","Buttons"],title:"Type",hidden:props=>fieldType(props)!=FilterFieldType.Toggle},options:{type:ControlType.Object,controls:{defaultValue:{type:ControlType.String,defaultValue:"",placeholder:"Default Value"},optionMode:{type:ControlType.Enum,defaultValue:"auto",options:["manual","auto"],optionTitles:["Manual","Auto"],displaySegmentedControl:true,title:"Options"},optionValues:{type:ControlType.Array,title:"
    ",control:{type:ControlType.String,defaultValue:""},hidden:props=>props.optionMode!=="manual"},optionOrder:{type:ControlType.Enum,defaultValue:"default",options:["default","alphabetical"],optionTitles:["Default","Alphabetical"],displaySegmentedControl:true,segmentedControlDirection:"vertical",title:"Order",description:"Connect
    the collection list to enable auto options.",hidden:props=>props.optionMode!=="auto"},placeholder:{type:ControlType.String,defaultValue:"[Preview project]",hidden:props=>props.optionMode!=="auto"},allOption:{type:ControlType.Boolean,defaultValue:true,enabledTitle:"Show",disabledTitle:"Hide"},allText:{type:ControlType.String,defaultValue:"All",title:"
    ",hidden:props=>!props.allOption}},hidden:props=>!isOptionType(props)},textCondition:{type:ControlType.Enum,defaultValue:FilterTextCondition.Equals,options:[FilterTextCondition.Equals,FilterTextCondition.Contains],optionTitles:["Equals","Contains"],displaySegmentedControl:true,title:"Condition",hidden:props=>!CONDITION_FIELD_TYPES.includes(fieldType(props))||props.options.optionMode!=="manual"},multipleOptionsNoneOption:{type:ControlType.String,defaultValue:"",placeholder:"None
    Option Name",title:"None Option",hidden:props=>props.fieldType!==FilterFieldType.MultipleOptions},collectionList:{type:ControlType.ComponentInstance,hidden:props=>!isOptionType(props)||props.options.optionMode!="auto"},toggleMultiOptions:{type:ControlType.Object,title:"Options",controls:{defaultValue:{type:ControlType.Enum,defaultValue:null,options:["all","on","off"],optionTitles:["All","Yes","No"],displaySegmentedControl:true},allOption:{type:ControlType.Boolean,defaultValue:true,enabledTitle:"Show",disabledTitle:"Hide"},allText:{type:ControlType.String,defaultValue:"All",title:"
    ",hidden:props=>!props.allOption},yesOption:{type:ControlType.Boolean,defaultValue:true,enabledTitle:"Show",disabledTitle:"Hide"},yesText:{type:ControlType.String,defaultValue:"On",title:" ",hidden:props=>!props.yesOption},noOption:{type:ControlType.Boolean,defaultValue:false,enabledTitle:"Show",disabledTitle:"Hide"},noText:{type:ControlType.String,defaultValue:"Off",title:"
    ",hidden:props=>!props.noOption},order:{type:ControlType.Enum,defaultValue:"yesNo",options:["yesNo","noYes"],optionTitles:["Yes/No","No/Yes"],displaySegmentedControl:true,hidden:props=>!props.yesOption||!props.noOption}},hidden:props=>fieldType(props)!=FilterFieldType.Toggle||filterType(props)!="dropdown"&&filterType(props)!="buttonGroup"},toggleTwoStateOptions:{type:ControlType.Object,title:"Options",icon:"boolean",controls:{defaultValue:{type:ControlType.Enum,defaultValue:"off",options:["off","on"],optionTitles:["Off","On"],displaySegmentedControl:true},offState:{type:ControlType.Enum,defaultValue:"all",options:["all","on","off"],optionTitles:["All
    Items","On/True Only","Off/False Only"],displaySegmentedControl:true,segmentedControlDirection:"vertical"},onState:{type:ControlType.Enum,defaultValue:"on",options:["all","on","off"],optionTitles:["All Items","On/True Only","Off/False Only"],displaySegmentedControl:true,segmentedControlDirection:"vertical"}},hidden:props=>fieldType(props)!=FilterFieldType.Toggle||filterType(props)!="toggleSwitch"&&filterType(props)!="checkbox"},toggleTwoStateText:{type:ControlType.Object,optional:true,defaultValue:{offText:"Off",onText:"On",location:"right",gap:10},title:"Text",controls:{offText:{type:ControlType.String,defaultValue:"Off"},onText:{type:ControlType.String,defaultValue:"On"},fontColor:{type:ControlType.Color,defaultValue:"#000"},location:{type:ControlType.Enum,defaultValue:"right",options:["left","right"],optionTitles:["Left","Right"],displaySegmentedControl:true},gap:{type:ControlType.Number,defaultValue:10,min:0,step:1}},hidden:props=>fieldType(props)!=FilterFieldType.Toggle||filterType(props)!="toggleSwitch"&&filterType(props)!="checkbox"},multiSelect:{type:ControlType.Boolean,defaultValue:false,title:"Multi-Select",hidden:props=>filterType(props)!="buttonGroup"||fieldType(props)==FilterFieldType.Toggle},font:{type:ControlType.Font,controls:"extended",defaultFontType:"sans-serif",defaultValue:{fontSize:14,lineHeight:1.4}},buttonGroupStyle:{type:ControlType.Object,title:"Buttons",buttonTitle:"Styles",controls:{fill:fillPropOnOff({colorOff:"#F0F0F0",colorAOff:"#EDEDED",colorBOff:"#CCC",colorOn:"#0075FF",colorAOn:"#70B3FF",colorBOn:"#0075FF"}),selectedFontColor:{type:ControlType.Color,defaultValue:"#FFF",title:"Font
    Color On"},defaultFontColor:{type:ControlType.Color,defaultValue:"#000",title:"Font Color Off"},...paddingRadiusProps,border:{type:ControlType.Object,optional:true,controls:{selectedColor:{type:ControlType.Color,defaultValue:"#0051ad",title:"Color
    On"},defaultColor:{type:ControlType.Color,defaultValue:"#222",title:"Color Off"},width:{type:ControlType.FusedNumber,defaultValue:1,toggleKey:"widthIsMixed",toggleTitles:["All","Individual"],valueKeys:["widthTop","widthRight","widthBottom","widthLeft"],valueLabels:["T","R","B","L"],min:0},style:{type:ControlType.Enum,defaultValue:"solid",options:["solid","dashed","dotted","double"],optionTitles:["Solid","Dashed","Dotted","Double"]}}},shadowsSelected:{type:ControlType.BoxShadow,title:"Shadow
    On"},shadows:{type:ControlType.BoxShadow,title:"Shadow Off"},bgBlur:{type:ControlType.Number,min:0,max:100,step:1,displayStepper:true,title:"BG Blur"}},hidden:props=>filterType(props)!="buttonGroup"},buttonGroupLayout:{type:ControlType.Object,title:"Layout",buttonTitle:"Stack",controls:{direction:{type:ControlType.Enum,defaultValue:"horizontal",options:["horizontal","vertical"],displaySegmentedControl:true},distribute:{type:ControlType.Enum,defaultValue:"center",options:["flex-start","center","flex-end","space-between","space-around","space-evenly"],optionTitles:["Start","Center","End","Space
    Between","Space Around","Space Evenly"]},wrap:{type:ControlType.Boolean,defaultValue:false},gapH:{type:ControlType.Number,defaultValue:8,min:0,step:1},gapV:{type:ControlType.Number,defaultValue:8,min:0,step:1},width:{type:ControlType.Enum,defaultValue:"fit",options:["fit","fill"],optionTitles:["Fit","Fill"],displaySegmentedControl:true}},hidden:props=>filterType(props)!="buttonGroup"},dividerStyle:{type:ControlType.Object,title:"Dividers",controls:{color:{type:ControlType.Color,defaultValue:"rgba(0,
    0, 0, 0.25)"},width:{type:ControlType.Number,defaultValue:1,min:0,displayStepper:true},rounded:{type:ControlType.Boolean,defaultValue:false},marginH:{type:ControlType.Number,defaultValue:0,min:0,step:1,displayStepper:true},marginV:{type:ControlType.Number,defaultValue:0,min:0,step:1,displayStepper:true,description:"Add
    a divider by using *---* as an option name"}},hidden:props=>filterType(props)!="buttonGroup"||fieldType(props)!=FilterFieldType.Option&&fieldType(props)!=FilterFieldType.Text||props.options.optionMode!=="manual"},dropdownStyle:{type:ControlType.Object,title:"Dropdown",buttonTitle:"Styles",controls:{fill:fillProp({color:"#F0F0F0"}),fontColor:{type:ControlType.Color,defaultValue:"#000"},...paddingRadiusProps,arrow:{type:ControlType.Object,defaultValue:{size:12,gap:10},optional:true,buttonTitle:"Style",controls:{color:{type:ControlType.Color,optional:true},size:{type:ControlType.Number,defaultValue:12,min:1,step:1},gap:{type:ControlType.Number,defaultValue:10,min:0,step:1},stroke:{type:ControlType.Number,defaultValue:2,min:.1,step:.1,displayStepper:true}}},border:borderPropertyControl(),shadows:{type:ControlType.BoxShadow},bgBlur:{type:ControlType.Number,min:0,max:100,step:1,displayStepper:true,title:"BG
    Blur"}},hidden:props=>filterType(props)!="dropdown"},toggleSwitchStyle:{type:ControlType.Object,title:"Toggle Switch",buttonTitle:"Styles",icon:"boolean",controls:{fill:fillPropOnOff({colorOn:"#0075FF",colorAOn:"#70B3FF",colorBOn:"#0075FF",colorOff:"#EDEDED",colorAOff:"#EDEDED",colorBOff:"#CCC"}),border:{type:ControlType.Object,optional:true,controls:{colorOn:{type:ControlType.Color,defaultValue:"#222"},colorOff:{type:ControlType.Color,defaultValue:"#222"},width:{type:ControlType.Number,defaultValue:1,min:0,step:1},style:{type:ControlType.Enum,defaultValue:"solid",options:["solid","dashed","dotted","double"],optionTitles:["Solid","Dashed","Dotted","Double"]}}},switchFill:fillPropOnOff({colorOn:"#FFF",colorAOn:"#FFF",colorBOn:"#D6D6D6",colorOff:"#FFF",colorAOff:"#FFF",colorBOff:"#D6D6D6"}),switchBorder:{type:ControlType.Object,optional:true,controls:{colorOn:{type:ControlType.Color,defaultValue:"#222"},colorOff:{type:ControlType.Color,defaultValue:"#222"},width:{type:ControlType.Number,defaultValue:1,min:0,step:1},style:{type:ControlType.Enum,defaultValue:"solid",options:["solid","dashed","dotted","double"],optionTitles:["Solid","Dashed","Dotted","Double"]}}},shadows:{type:ControlType.BoxShadow,defaultValue:"0px
    2px 4px 0px rgba(0,0,0,0.2)"},height:{type:ControlType.Number,defaultValue:32,min:1,step:1},padding:{type:ControlType.Number,defaultValue:4,min:0,step:1,displayStepper:true},radius:{type:ControlType.Number,defaultValue:16,min:0}},hidden:props=>filterType(props)!="toggleSwitch"},checkboxStyle:{type:ControlType.Object,title:"Checkbox",buttonTitle:"Styles",controls:{fillOn:{type:ControlType.Color,defaultValue:"#0075FF"},fillOff:{type:ControlType.Color,defaultValue:"#EDEDED"},size:{type:ControlType.Number,defaultValue:24,min:1,step:1},radius:{type:ControlType.Number,defaultValue:6,min:0},icon:{type:ControlType.Object,optional:true,defaultValue:{size:16,color:"#FFF",rounded:true},buttonTitle:"Options",controls:{size:{type:ControlType.Number,defaultValue:16,min:1,step:1},lineWidth:{type:ControlType.Number,defaultValue:2,min:1,step:.1},colorOn:{type:ControlType.Color,defaultValue:"#FFF",title:"Color"},rounded:{type:ControlType.Boolean,defaultValue:true}}}},hidden:props=>filterType(props)!="checkbox"},transition:{type:ControlType.Transition,defaultValue:{type:"spring",duration:.2,bounce:0},hidden:props=>filterType(props)=="dropdown"}});const
    isReferenceType=fieldType=>fieldType===FilterFieldType.Reference||fieldType===FilterFieldType.MultiReference;function filterType(props){if(props.filterBy=="field"){const type=isReferenceType(props.fieldType)?props.referenceFieldType:props.fieldType;if(type==FilterFieldType.Toggle){return
    props.filterTypeToggle;}else{return props.filterTypeOption;}}else{return props.filterTypeToggle;}}function fieldType(props){if(props.filterBy=="field"){const type=isReferenceType(props.fieldType)?props.referenceFieldType:props.fieldType;return type===FilterFieldType.MultipleOptions?FilterFieldType.Option:type;}else{return
    FilterFieldType.Toggle;}}function isOptionType(props){if(props.filterBy=="field"){if(isReferenceType(props.fieldType)){return props.referenceFieldType==FilterFieldType.Option||props.referenceFieldType==FilterFieldType.Text;}else{return props.fieldType==FilterFieldType.Option||props.fieldType==FilterFieldType.Text||props.fieldType==FilterFieldType.MultipleOptions;}}else{return
    false;}}function isDivider(text){return text?DASHES_ONLY_REGEX.test(text)&&text.length>=3:false;}function FilterButton(props){const{selected,border}=props;return /*#__PURE__*/_jsxs(motion.div,{onClick:props.onClick,animate:{...createBackground(props.fill,selected),color:selected?props.selectedFontColor:props.defaultFontColor,boxShadow:selected&&props.shadowsSelected?props.shadowsSelected:props.shadows},style:{position:"relative",width:props.direction=="vertical"&&props.width=="fill"?"100%":"max-content",flex:props.width=="fill"?1:undefined,cursor:"pointer",padding:props.paddingIsMixed?`${props.paddingTop}px
    ${props.paddingRight}px ${props.paddingBottom}px ${props.paddingLeft}px`:`${props.padding}px`,borderRadius:props.radiusIsMixed?`${props.radiusTopLeft}px ${props.radiusTopRight}px ${props.radiusBottomRight}px ${props.radiusBottomLeft}px`:`${props.radius}px`,backdropFilter:props.bgBlur?`blur(${props.bgBlur}px)`:undefined},initial:false,transition:props.transition,children:[props.text,border&&/*#__PURE__*/_jsx(Border,{...border,color:selected?border.selectedColor:border.defaultColor,transition:props.transition})]});}function
    ButtonGroupDivider({color,width,rounded,marginH,marginV,layout}){const horizontal=layout.direction=="vertical";return /*#__PURE__*/_jsx("div",{style:{backgroundColor:color,width:horizontal?undefined:width,height:horizontal?width:undefined,margin:`${marginV}px
    ${marginH}px`,borderRadius:rounded?1e4:undefined,alignSelf:"stretch"}});} export const __FramerMetadata__ = {"exports":{"FilterType":{"type":"tsType","annotations":{"framerContractVersion":"1"}},"default":{"type":"reactComponent","name":"Filter","slots":[],"annotations":{"framerSupportedLayoutHeight":"any","framerSupportedLayoutWidth":"any","framerContractVersion":"1","framerDisableUnlink":""}},"OptionOrder":{"type":"tsType","annotations":{"framerContractVersion":"1"}},"OptionMode":{"type":"tsType","annotations":{"framerContractVersion":"1"}},"FilterBy":{"type":"tsType","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
    //# sourceMappingURL=./Filter.map