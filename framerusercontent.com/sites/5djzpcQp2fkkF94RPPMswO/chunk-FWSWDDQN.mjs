import{a as Mt,b as nt,c as Ee,d as A,e as ye,f as Vt,n as he,r as wt,s as Bt,t as kt}from"./chunk-5T44DRW6.mjs";import{B as f,E as At,c as Ke,da as Pt,e as Xe,f as Nt,ka as et,ua as tt,z as Ze}from"./chunk-7FIFANQH.mjs";import{A as Je,D as xt,E as k,F as Ye,b as Ct,f as de,h as St,k as It,m as Qe,p as Ft,s as oe,t as bt,w as Tt,x as W,z as ae}from"./chunk-2UQKGMVX.mjs";import{c as U}from"./chunk-A3IIQ6X3.mjs";function Rt(e){let i=null;e?.props?.query?i=e:e?.props?.children?.props?.query?i=e.props.children:e?.props?.children?.props?.children?.props?.query&&(i=e.props.children.props.children);let t=i?.props?.query,o=t?.from,r=[];o&&(o.type==="Collection"?r.push(o):o.type==="LeftJoin"&&(_e(o.left,r),_e(o.right,r)));let a=t?.select;if(r.length>1&&Array.isArray(a)){for(let u of a)if(u.type=="Identifier"&&u.name=="id"&&!u.alias){let C=r.find(_=>_.alias==u.collection);C&&(r=[C,...r.filter(_=>_!==C)]);break}}let s={},d={};if(Array.isArray(a)){for(let u of a)if(u.type==="FunctionCall"&&(u.functionName==="ARRAY"||u.functionName==="FLAT_ARRAY")&&Array.isArray(u.arguments)){for(let C of u.arguments)if(C.from?.type==="Collection"){let _=C.from.alias,V=_,x=C.where?.right;x&&x.type==="Identifier"&&x.name&&(V=x.name),r.push({...C.from,fieldId:V}),d[V]=_,d[_]=_,s[_]=C}}}let l=r[0]?.data,S={},m={};for(let u of r){let C={},_={};S[u.alias]=C,m[u.alias]=_;let V=u.data?.propertyControls;for(let x of Object.keys(V)){let g={id:x,...V[x]};C[x]=g,_[g.title]=g}}let v=null;if(e){let u=e.props?.children;typeof u=="function"?v=u:typeof u?.props?.children=="function"?v=u.props.children:typeof u?.props?.children?.props?.children=="function"&&(v=u.props.children.props.children)}return{query:t,queryParent:i,queryData:l,collections:r,propertyControlsById:S,propertyControlsByTitle:m,childrenFunction:v,multiReferenceQueries:s,multiReferenceIdMap:d}}function _e(e,i){e&&typeof e=="object"&&(e.type==="Collection"?i.push(e):e.type==="LeftJoin"&&(_e(e.left,i),_e(e.right,i)))}function Et(e,i,t,o){let r=Array.isArray(i?.select)?[...i.select]:[];for(let a of e){let s=an(a.name,a.referenceFieldName,i,t,o,r);s&&r.push(s)}return r}function an(e,i,t,o,r,a=null){let s=r[0]?.alias||"",d=o[s]?.[e];if(!d)return null;let l=d?.id,S=i?l:s,m=i?o[l]?.[i]:null;if(a){let v=!1;for(let u of a)if(u.type==="Identifier"){if(i){if(m&&u.alias===`${l}.${m.id}`&&u.collection===l&&u.name===m.id){v=!0;break}}else if(u.name===l&&u.collection===S){v=!0;break}}else if(u.type==="FunctionCall"&&u.alias===l){v=!0;break}if(v)return null}if(i){if(m)return{alias:`${l}.${m.id}`,collection:l,name:m.id,type:"Identifier"}}else return{collection:S,name:l,type:"Identifier"}}var sn=1,_t=0;function De({breakpoints:e,columns:i=sn,gapH:t=_t,gapV:o=_t,reverse:r=!1,autoArrange:a=!1,alignment:s="center",children:d,style:l,...S},m){let v=ae([]),u=ae([]),[C,_]=Je(!1),[V,x]=Je(0),g=ae(new Map),H=ae(null),L=ae(null),Pe=R=>{if(!g.current.has(R)){let w=R.offsetHeight,z=new ResizeObserver(q=>{let X=q[0].target.offsetHeight;if(X!==w&&Math.abs(X-w)>2){w=X;let G=v.current.findIndex(O=>O.element===R);if(L.current===null?L.current=G:L.current=Math.min(L.current,G),!H.current){let O=V===0?10:200;H.current=setTimeout(()=>{x(Z=>Z+1),H.current=null},O)}}});z.observe(R),g.current.set(R,z)}},Fe=R=>w=>{w!==null&&(Me.push({element:w,index:R}),v.current=Me,Pe(w))};oe(()=>()=>{g.current.forEach(R=>R.disconnect()),g.current.clear()},[]),oe(()=>()=>{H.current&&clearTimeout(H.current)},[]),Tt(()=>(a&&!C&&_(!0),a&&C&&x(R=>R+1),()=>{a&&C&&_(!1)}),[a]);let re=W(()=>{if(i<1)return[];let R=Ct.toArray(d);r&&R.reverse();let w=Array.from({length:i},()=>[]),z=w.map(()=>0);var q;let ie=(q=L.current)!==null&&q!==void 0?q:-1,X=G=>{if(a&&C&&v.current.length>0)if(ie===-1||G>ie){let O=z.findIndex(M=>M===Math.min(...z)),Z=v.current.find(M=>M.index===G),ee=Z?.element.getBoundingClientRect().height;return z[O]+=(ee||0)+o,O}else{let O=v.current.find(M=>M.index===G);if(O){let M=u.current.findIndex(le=>le.some(ge=>ge.index===G));if(M!==-1){let le=O.element.getBoundingClientRect().height;return z[M]+=(le||0)+o,M}}let Z=z.findIndex(M=>M===Math.min(...z)),ee=O?.element.getBoundingClientRect().height;return z[Z]+=(ee||0)+o,Z}return G%i};return R.forEach((G,O)=>{G&&It(G)&&w[X(O)].push({element:G,index:O})}),u.current=w,w},[V,C,d,i,r,a]),Me=[];return k("div",{ref:m,style:{display:"flex",gap:t,...l},...S,children:re.map((R,w)=>k("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:s,gap:o},children:R.map((z,q)=>k("div",{ref:Fe(z.index),children:z.element},q))},w))})}De.displayName="Superfields/Masonry";function $e(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)e[o]=t[o]}return e}var ln={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rt(e,i){function t(r,a,s){if(typeof document<"u"){s=$e({},i,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var l in s)s[l]&&(d+="; "+l,s[l]!==!0&&(d+="="+s[l].split(";")[0]));return document.cookie=r+"="+e.write(a,r)+d}}function o(r){if(typeof document<"u"&&(!arguments.length||r)){for(var a=document.cookie?document.cookie.split("; "):[],s={},d=0;d<a.length;d++){var l=a[d].split("="),S=l.slice(1).join("=");try{var m=decodeURIComponent(l[0]);if(s[m]=e.read(S,m),r===m)break}catch{}}return r?s[r]:s}}return Object.create({set:t,get:o,remove:function(r,a){t(r,"",$e({},a,{expires:-1}))},withAttributes:function(r){return rt(this.converter,$e({},this.attributes,r))},withConverter:function(r){return rt($e({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}var Ie=rt(ln,{path:"/"});var cn=Bt((e,i)=>({collections:{},getFavourites:t=>i().collections[t]||[],setFavourites:(t,o)=>{e(r=>({collections:{...r.collections,[t]:o}})),Ie.set(`superfieldsFavourites_${t}`,o)},addFavourite:(t,o)=>{let r=i().getFavourites(t);i().setFavourites(t,[...r,o])},removeFavourite:(t,o)=>{let r=i().getFavourites(t);i().setFavourites(t,r.filter(a=>a!==o))}})),dn=(e,i,t=null)=>cn(o=>{let r={favourites:o.getFavourites(e)};if(!Array.isArray(o.collections[e]))try{let a=`superfieldsFavourites_${e}`,s=Ie.get(a);if(!s&&t){let d=`superfieldsFavourites_${t}`;s=Ie.get(d),s&&(Ie.set(a,s),Ie.remove(d))}if(s){let d=s.split(",");o.setFavourites(e,d),r.favourites=d}}catch(a){console.error("Failed to load or parse favourites cookie:",a)}for(let a in o){let s=o[a];typeof s=="function"?r[a]=(...d)=>s(e,...d):r[a]=s}return i(r)}),Lt=dn;var fn={[A.String]:"Text",[A.Number]:"Number",[A.Date]:"Date",[A.Boolean]:"Toggle",[A.Enum]:"Option"},Ot;(function(e){e.Ascending="ascending",e.Descending="descending"})(Ot||(Ot={}));var Dt;(function(e){e.PrevNextButtons="prevNextButtons",e.LoadMoreButton="loadMoreButton",e.FramerPagination="framerPagination"})(Dt||(Dt={}));var $t;(function(e){e.Stack="stack",e.Grid="grid",e.Masonry="masonry"})($t||($t={}));var jt;(function(e){e.Default="default",e.Reference="reference"})(jt||(jt={}));function Gt(e){let{superfieldsId:i,layout:t,componentConfig:o,cmsCollectionName:r,favouritesOnly:a,searchFields:s,sortingField:d,urlParameters:l,slugFieldName:S,scrollUp:m,transition:v,customOverrideFilter:u=null,customOverrideSort:C=null}=e,_=bt(),V=e.collectionList?.[0],x=e.emptyState?.[0],g=Ze.current()===Ze.canvas,H=typeof U>"u",L=ae(null),Pe=ae(-1),Fe=ae(!0),{query:re,queryParent:Me,propertyControlsById:R,propertyControlsByTitle:w,childrenFunction:z,collections:q,multiReferenceQueries:ie,multiReferenceIdMap:X}=W(()=>Rt(V),[V]),G=q[0],O=g?0:Me?.props?.pageSize||0,Z=O>0,ee=Z||e.pagination,[M,le,ge,fe,ot,Ve,be,ve,ce,Qt,Jt,at,Yt,st]=kt(i,n=>[n.filters,n.randomizationSeed,n.search,n.sortOption,n.defaultSortOption,n.sortingUrlParameter,n.paginationType,n.itemsPerPage,n.page,n.setPage,n.setTotalItems,n.paginationButtonsCount,n.searchFields,n.setPaginationType],n=>{if(n.itemsPerPage=Z?O:e.pagination?e.itemsPerPage:0,n.paginationActive=ee,n.searchFields||(n.searchFields=e.searchFields),!H&&!g){e.randomize&&(n.randomizationSeed=Math.floor(Math.random()*1e8));let c=new URLSearchParams(U.location.search);if(l?.search&&l.searchName){let p=c.get(l.searchName);p&&(n.search=p)}if(l?.pagination&&l.paginationName){let p=c.get(l.paginationName);if(p){let h=parseInt(p,10),B=Math.ceil(ne.length/n.itemsPerPage);!isNaN(h)&&h>=1&&h<=B&&(n.page=h-1)}}}}),lt=W(()=>at>0?"prevNextButtons":Z?"framerPagination":e.pagination?e.paginationType:null,[at,Z,e.pagination,e.paginationType]);oe(()=>{st(lt)},[lt,st]);let ct=e.randomize||!!le,Ce=G?.alias,Te=w[Ce]||{},dt=R[Ce]||{},ue=Te[S||"Slug"]?.id,we=Object.keys(M),F=e.sorting?d:null;fe&&fe.id!==Mt&&(F=fe);let Se=Lt(ue,n=>n.favourites,r),pe=Yt||e.searchFields,Kt=W(()=>Wt(re,M,e.search,pe,F,w,q),[re,M,e.search,pe,F?.sortBy,F?.fieldName]),Xt=W(()=>{let n={};for(let c of Object.keys(ie)){let p=dt[c];if(!p){for(let h of Object.keys(X))if(X[h]===c){p=dt[h];break}}if(p){let h=p.title,B=[];for(let E of pe)E.fieldType==="reference"&&E.fieldName===h&&B.push({fieldName:E.referenceFieldName,fieldType:"default"});let j={};for(let E of Object.keys(M)){let T=M[E];T.fieldType===ye.MultiReference&&T.fieldName===h&&(j[E]={...T,fieldName:T.referenceFieldName,fieldType:T.referenceFieldType,referenceFieldName:void 0,referenceFieldType:void 0})}n[c]=Wt(ie[c],j,e.search,B,null,w,[...q].sort((E,T)=>E.alias===c?-1:T.alias===c?1:0))}else{let h=ie[c];h&&(n[c]=h.select)}}return n},[ie,M,e.search,pe]),Be=re?tt({...re,select:Kt}):[],xe={};for(let n of Object.keys(ie)){let c=Xt[n],p=ie[n],h={};if(c&&p){let B=tt({...p,select:c,where:void 0,orderBy:void 0});for(let j of B)h[j.id]=j}xe[n]=h}let[ne,Q,se]=W(()=>{let n=hn(Be,R,Ce,xe,X),c=Be.map(h=>h.id),p={};if(!g&&Array.isArray(n))for(let h of n)p[h.id]=h;return[n,c,p]},[Be,R,Ce,xe,X]),ft=()=>{if(m&&L.current&&!H&&!g){let n=L.current.getBoundingClientRect();n.top>=0&&n.top<=U.innerHeight||L.current.scrollIntoView({behavior:m.scrollStyle})}};oe(()=>{Fe.current||m&&(m.filteringEnabled&&we.length>0||m.sortingEnabled&&F?.sortBy!=="defaultSorting")&&ft()},[M,F?.sortBy]),oe(()=>{if(Fe.current){Fe.current=!1;return}if(ee&&m&&m.paginationEnabled&&be=="prevNextButtons"&&ft(),ee&&l?.pagination&&l.paginationName&&!H){let n=new URL(U.location.href),c=ce+1;c>1?n.searchParams.set(l.paginationName,c.toString()):n.searchParams.delete(l.paginationName),U.history.replaceState({path:n.href},"",n.href)}},[ce,ee,be,l]),oe(()=>{if(!l?.search||!l.searchName||g||H)return;let n=new URL(U.location.href);ge?n.searchParams.set(l.searchName,ge):n.searchParams.delete(l.searchName),U.history.replaceState({path:n.href},"",n.href)},[ge,l]),oe(()=>{if(g||H)return;let n=new URL(U.location.href),c=!1;for(let p of we){let h=M[p];if(h&&h.urlParameter){c=!0;let B=h.value;B!=null&&B!==void 0&&B!==""?n.searchParams.set(h.urlParameter,B.toString()):n.searchParams.delete(h.urlParameter)}}c&&U.history.replaceState({path:n.href},"",n.href)},[M,l]),oe(()=>{if(g||H||!Ve)return;let n=new URL(U.location.href);fe&&fe.title!==ot?.title?n.searchParams.set(Ve,fe.title):n.searchParams.delete(Ve),U.history.replaceState({path:n.href},"",n.href)},[fe,ot,Ve]);let Zt=W(()=>{if(g||!we.length)return Q;let n=Q;for(let c of we){if(c==nt)continue;let p=M[c],{fieldName:h,fieldType:B}=p,j=p.value,E=p?.condition===Vt.Contains,T=[];if(B===ye.MultipleOptions)for(let D of h.split(Ee)){let y=Te[D.trim()];y&&T.push(y)}else if(B===ye.Reference||B===ye.MultiReference){let{referenceFieldName:D}=p,y=Te[h],b=y?.type==="multicollectionreference";if(y&&(y.type==="collectionreference"||b)){let I=q.find(P=>P.alias===y.id||b&&P.alias===X[y.id])?.data?.propertyControls;if(I){let P=null,$=null;for(let te of Object.keys(I)){let K=I[te];if(K.title===D){P=te,$=K;break}}$&&P&&(b?T.push({...y,referenceAlias:X[y.id],referenceId:P,referenceType:$.type}):T.push({id:`${y.id}.${P}`,type:$.type}))}}}else{let D=Te[h];D&&T.push(D)}let Y=T.length>1;if(p&&T.length&&j!=null&&j!=null){let D=[];for(let y of n){let b=!1,N=se[y];if(Y){for(let I of T)if(Ut(I,N[I.id],j,p.multiSelect,E,xe)){b=!0;break}}else{let I=T[0];b=Ut(I,N[I.id],j,p.multiSelect,E,xe)}b&&D.push(y)}n=D}}return n},[M,ne]),je=M[nt]?.value,en=W(()=>{if(g||!ue||!a&&typeof je!==A.Boolean)return Q;let n=je===!0||a;if(!Array.isArray(Se)||Se.length===0){if(n)return[]}else return Q.filter(c=>Se.includes(se[c][ue])===n);return Q},[je,a,Se,ne]),tn=W(()=>{if(!u)return Q;let n=u({dataIds:Q,dataItemsById:se,collections:q,propertyControlsById:R,propertyControlsByTitle:w,mainPropertyControlsByTitle:Te});return Array.isArray(n)?n:Q},[u,ne]),ke=ge?.trim().toLowerCase()??"",[nn,ut,ze]=W(()=>{if(g||!ke.length||!Array.isArray(ne))return[Q,!1,null];let n=null,c=[[...Q],[],[],[],[]],p=new Array(ne.length).fill(0);for(let h=0;h<pe.length;h++){let{fieldType:B,fieldName:j,referenceFieldName:E}=pe[h],{property:T}=zt(j,B,E,null,w,Ce,"Title");if(!T){n=j;break}let Y=T.id,D=T.type,y=D==A.String||D==A.Enum,b=D==A.Number,N=D=="multicollectionreference";for(let I in ne){let P=ne[I],$=0;if(N){let K=se[P.id]?.[Y],me=X[T.id],Ge=w[me];if(Ge&&typeof Ge=="object"&&Array.isArray(K)){let gt=Ge[E||"Title"]?.id;if(gt){for(let vt of K)if(vt){let on=vt[gt];$=Math.max($,qt(on,ke))}}}}else{let K=se[P.id]?.[Y];$=qt(K,ke)}let te=p[I];if($>te){let K=[];for(let me of c[te])me!=P.id&&K.push(me);c[te]=K,c[$].push(P.id),p[I]=$}}}return n?[Q,!1,n]:[[...c[4],...c[3],...c[2],...c[1]],!0,n]},[ke,ne,pe]),J=nn.filter(n=>Zt.includes(n)&&en.includes(n)&&tn.includes(n)),Ne=J.length,pt=ve&&Ne?Math.ceil(Ne/ve):1;Ne!==Pe.current&&Jt(Ne),Pe.current=Ne;let Ue=W(()=>{if(le&&!g&&Array.isArray(ne)){let n=Array.from({length:ne.length},(c,p)=>p);return yn(n,le)}return null},[le,g,ne]);if(!g&&!ut&&ct){let n=Q;if(Ue){n=new Array(Q.length);for(let c=0;c<Ue.length;c++)n[Ue[c]]=Q[c]}J=n.filter(c=>J.includes(c))}let mt=!g&&!ct&&!ut,Re="",He="",We="";if(mt&&F&&F.sortBy!=="defaultSorting"){let{sortBy:n}=F,p=F.fieldType==="reference"?F.referenceFieldType:F.fieldType,{property:h,mismatchedFieldName:B,mismatchedFieldType:j}=zt(F.fieldName,F.fieldType,F.referenceFieldName,F.referenceFieldType,w,Ce);if(B)He=B,We=j;else{let E=h?.id;if(n==="field"&&E||n==="favourites"&&ue){let T=n==="favourites"?F.favouritesSort==="favouritesLast":p===A.String&&F.stringSort==="ascending"||p===A.Number&&F.numberSort==="ascending"||p===A.Date&&F.dateSort==="ascending"||p===A.Boolean&&F.booleanSort==="noYes"||p===A.Enum&&(F.enumSort==="optionOrder"||F.enumSort==="ascending"),Y=y=>{if(n==="favourites"){let N=se[y]?.[ue];return Array.isArray(Se)&&Se.includes(N)?1:0}let b=se[y]?.[E];if(b==null)return null;switch(p){case A.Number:return Number(b);case A.Date:return new Date(b).getTime();case A.Boolean:return b?1:0;case A.Enum:return F.enumSort==="optionOrder"||F.enumSort==="reverseOptionOrder"?h.optionTitles?h.optionTitles.indexOf(b):-1:String(b);default:return String(b)}};J=[...J].sort((y,b)=>{let N=Y(y),I=Y(b);if(N===null&&I===null)return 0;if(N===null)return 1;if(I===null)return-1;let P;return p===A.String||p===A.Enum&&(F.enumSort==="ascending"||F.enumSort==="descending")?P=N.localeCompare(I):P=N<I?-1:N>I?1:0,T?P:-P})}else Re=F.fieldName}}if(mt&&C){let n=C({itemIds:J,dataItemsById:se,collections:q,propertyControlsById:R,propertyControlsByTitle:w});Array.isArray(n)&&(J=n)}if(!g&&ee)switch(be){case"prevNextButtons":J=J.slice(ce*ve,(ce+1)*ve);break;case"loadMoreButton":case"framerPagination":J=J.slice(0,(ce+1)*ve);break}let yt=W(()=>{if(g||!V||!re||!z)return null;let{offset:n,limit:c}=re,p={currentPage:ce+1,totalPages:pt,isLoading:!1},h=()=>{if(ee){let y=ce+1;y>=0&&y<pt&&Qt(y)}},B={};for(let y of Be)B[y.id]=y;let j=J.map(y=>B[y]).filter(Boolean),E=z(j,p,h),T=y=>{let b=y;if(Array.isArray(y)&&y.length&&o&&o.variant.length>0){let I=[],P=!0;for(let $=0;$<y.length;$++){let te=y[$],K=te.key??te.props?.id,me=k(pn,{child:te,componentConfig:o},K);if(me===te){P=!1;break}else I.push(k(Xe,{id:K,children:me},K))}P&&(b=I)}let N=[];for(let I=0;I<b.length;I++){let P=b[I],$=P.key??P.props?.id,te=t?.direction=="vertical";N.push(St(Nt.div,{layout:"position",layoutId:$,...P.props||{},style:{...P.props.style||{},width:te?e.style?.width:void 0},key:$}))}return N},Y=null;if(Array.isArray(E))Y=T(E);else if(Array.isArray(E?.props?.children)){let y=E.props.children;if(y.findIndex(N=>Array.isArray(N))==-1)Y=T(y);else{let N=[];for(let I of y)Array.isArray(I)?N=N.concat(T(I)):N.push(I);Y=N}}let D=[];if(Array.isArray(Y))for(let y of Y){let b=null,N=y.props?.child?.key;N&&(b=se[N]?.[ue]),D.push(b)}return Y.map((y,b)=>k(Pt.Provider,{value:{[ue]:D[b]||null},children:y}))},[g,V,re,J,ce,o]);if(V){if(!g&&!re)return k(he,{title:"Connect a CMS Collection List",subtitle:"The layer that's connected isn't a Collection List. Make sure the Collection List isn't inside of any other layers or components when connecting it."});if(ze)return k(he,{title:`"${ze}" field does not exist in your CMS collection`,subtitle:`The field "${ze}" is in the search fields list, but there are no fields in your CMS collection with that name. Edit the field name in the search fields list or add a new CMS field with that name.`});if(Re)return k(he,{title:`"${Re}" field does not exist in your CMS collection`,subtitle:`The field "${Re}" is in the search fields list, but there are no fields in your CMS collection with that name. Edit the field name in the sorting configuration or add a new CMS field with that name.`});if(He)return k(he,{title:`"${He}" is not a ${fn[We]||We} field.`,subtitle:"Please update the Superfields sorting mode to match the field type on the CMS collection"})}else return k(he,{title:"Connect a CMS Collection List",subtitle:"Drag the handle on the right side to a Collection List or select from the dropdown list. The Collection List must be outside of a page to be connected."});let qe={};if(t)switch(t.type){case"stack":let n=t.direction=="vertical";qe={display:"flex",flexDirection:n?"column":"row",flexWrap:t.wrap?"wrap":"nowrap",alignItems:n?t.alignV:t.alignH,justifyContent:t.distribute,gap:t.gap};break;case"grid":let c="";t.columns=="auto"?t.gridWidthType=="min"?c=`repeat(auto-fill, minmax(${t.gridWidth}px, 1fr))`:c=`repeat(auto-fill, ${t.gridWidth}px)`:t.gridWidthType=="min"?c=`repeat(${t.columnCount}, minmax(${t.gridWidth}px, 1fr))`:c=`repeat(${t.columnCount}, ${t.gridWidth}px)`;let p="";switch(t.gridHeightType){case"fixed":p=`${t.gridHeight}px`;break;case"fit":p="min-content";break}qe={display:"grid",gridTemplateColumns:c,gridAutoRows:p,justifyContent:t.gridAlign,alignItems:t.gridAlignV,columnGap:t.gapH,rowGap:t.gapV};break}let Ae=t?.type==="masonry",ht={...Ae?{}:V.props?.style,...e.style,...qe,position:"relative",padding:t?t.paddingIsMixed?`${t.paddingTop}px ${t.paddingRight}px ${t.paddingBottom}px ${t.paddingLeft}px`:`${t.padding}px`:void 0},rn=Ae?{columns:t.masonryColumns,gapH:t.gapH,gapV:t.gapV,alignment:t.masonryItemWidth==="fit"?t.masonryAlign:"stretch",autoArrange:!0,reverse:!1}:{};if(g)if(V){let n=0,c=0;if(Ae)return k(he,{title:"Preview site to view masonry layout",subtitle:"The CMS masonry layout is not available in the editor. Preview or publish your site to see the CMS items."});{let p=e.id??"a"+String(Math.floor(Math.random()*999999999));return Ye(xt,{children:[de(V,{id:p,style:ht}),ee&&be!=="framerPagination"&&k("style",{children:`#${p} > *:nth-child(n+${ve+1+n})${c?`:not(:nth-last-child(-n+${c}))`:""} { display: none !important; }`})]})}}else return k("div",{style:{height:100}});return J?.length?Ye("div",{...V.props,style:ht,className:Ae?"":V.props?.className||"","data-superfields":!0,children:[k(Xe,{id:_,children:k(gn,{value:v,children:Ae?k(mn,{...rn,children:yt}):yt})}),ee&&m&&k("div",{ref:L,style:{position:"absolute",top:m.offset,pointerEvents:"none"}})]}):x?de(x,{style:{...x.props.style,...e.style},"data-superfields":!0}):k("div",{"data-superfields":!0})}At(Gt,{superfieldsId:{type:f.Number,defaultValue:0,step:1,min:0,displayStepper:!0,title:"ID"},collectionList:{type:f.ComponentInstance},emptyState:{type:f.ComponentInstance},layout:{type:f.Object,optional:!0,controls:{type:{type:f.Enum,defaultValue:"stack",options:["stack","grid","masonry"],optionTitles:["Stack","Grid","Masonry"],displaySegmentedControl:!0,segmentedControlDirection:"vertical"},direction:{type:f.Enum,defaultValue:"vertical",options:["horizontal","vertical"],optionTitles:["Horizontal","Vertical"],optionIcons:["direction-horizontal","direction-vertical"],displaySegmentedControl:!0,hidden:e=>e.type!="stack"},distribute:{type:f.Enum,defaultValue:"start",options:["start","center","end","space-between","space-around","space-evenly"],optionTitles:["Start","Center","End","Space Between","Space Around","Space Evenly"],hidden:e=>e.type!="stack"},alignH:{type:f.Enum,defaultValue:"start",options:["start","center","end"],optionTitles:["Top","Center","Bottom"],optionIcons:["align-top","align-middle","align-bottom"],displaySegmentedControl:!0,title:"Align",hidden:e=>e.type!="stack"||e.direction!="horizontal"},alignV:{type:f.Enum,defaultValue:"start",options:["start","center","end"],optionTitles:["Left","Center","Right"],optionIcons:["align-left","align-center","align-right"],displaySegmentedControl:!0,title:"Align",hidden:e=>e.type!="stack"||e.direction!="vertical"},wrap:{type:f.Boolean,defaultValue:!1,hidden:e=>e.type!="stack"},columns:{type:f.Enum,defaultValue:"fixed",options:["auto","fixed"],optionTitles:["Auto","Fixed"],displaySegmentedControl:!0,hidden:e=>e.type!="grid"},columnCount:{type:f.Number,defaultValue:2,min:1,step:1,displayStepper:!0,title:" ",hidden:e=>e.type!="grid"||e.columns=="auto"},gridWidthType:{type:f.Enum,defaultValue:"min",options:["min","fixed"],optionTitles:["Min","Fixed"],displaySegmentedControl:!0,title:"Width",hidden:e=>e.type!="grid"},gridWidth:{type:f.Number,defaultValue:200,min:1,step:1,title:" ",hidden:e=>e.type!="grid"},gridHeightType:{type:f.Enum,defaultValue:"fit",options:["fit","fixed"],optionTitles:["Fit","Fixed"],displaySegmentedControl:!0,title:"Height",hidden:e=>e.type!="grid"},gridHeight:{type:f.Number,defaultValue:200,min:1,step:1,title:" ",hidden:e=>e.type!="grid"||e.gridHeightType!="fixed"},gridAlign:{type:f.Enum,defaultValue:"center",options:["start","center","end"],optionTitles:["Left","Center","Right"],displaySegmentedControl:!0,title:"Align",hidden:e=>e.type!="grid"},gridAlignV:{type:f.Enum,defaultValue:"start",options:["start","center","end"],optionTitles:["Top","Center","Bottom"],optionIcons:["align-top","align-middle","align-bottom"],displaySegmentedControl:!0,title:" ",hidden:e=>e.type!="grid"||e.gridHeightType!=="fit"},masonryColumns:{type:f.Number,defaultValue:3,min:1,step:1,displayStepper:!0,title:"Columns",hidden:e=>e.type!=="masonry"},masonryItemWidth:{type:f.Enum,defaultValue:"fill",options:["fit","fill"],optionTitles:["Fit","Fill"],displaySegmentedControl:!0,title:"Item Width",hidden:e=>e.type!=="masonry"},masonryAlign:{type:f.Enum,defaultValue:"center",options:["start","center","end"],optionTitles:["Left","Center","Right"],displaySegmentedControl:!0,title:"Align",hidden:e=>e.type!=="masonry"||e.masonryItemWidth!=="fit"},gap:{type:f.Number,defaultValue:10,min:0,step:1,hidden:e=>e.type!=="stack"},gapH:{type:f.Number,defaultValue:10,min:0,step:1,hidden:e=>e.type!=="grid"&&(e.type!=="masonry"||e.masonryColumns===1)},gapV:{type:f.Number,defaultValue:10,min:0,step:1,hidden:e=>e.type!=="grid"&&e.type!=="masonry"},padding:{type:f.FusedNumber,defaultValue:0,toggleKey:"paddingIsMixed",toggleTitles:["All","Individual"],valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0}}},componentConfig:{type:f.Object,optional:!0,title:"Component",controls:{variant:{type:f.String,defaultValue:"",placeholder:"Variant Name",preventLocalization:!0,description:`Override the component's variant for responsive design.

*Note:* The component must be the only layer inside the Collection List to use this.

*Note:* Variant does not appear while editing. Preview your project to see the variant.`}}},scrollUp:{type:f.Object,optional:!0,defaultValue:{scrollStyle:"smooth",offset:0},title:"Scroll to Top",controls:{scrollStyle:{type:f.Enum,defaultValue:"smooth",options:["smooth","instant"],optionTitles:["Smooth","Instant"],displaySegmentedControl:!0,title:"Scroll"},offset:{type:f.Number,defaultValue:-32,step:1,description:" "},paginationEnabled:{type:f.Boolean,defaultValue:!0,title:"Pagination"},filteringEnabled:{type:f.Boolean,defaultValue:!1,title:"Filters"},sortingEnabled:{type:f.Boolean,defaultValue:!1,title:"Sorting",description:"Scroll to the top of the Superfields component when page, filter, or sorting is changed."}}},transition:{type:f.Transition,defaultValue:{type:!1},description:" "},pagination:{type:f.Boolean,defaultValue:!1},paginationType:{type:f.Enum,defaultValue:"pagination",options:["prevNextButtons","loadMoreButton"],optionTitles:["Prev/Next Buttons","Load More Button"],title:"Type",displaySegmentedControl:!0,segmentedControlDirection:"vertical",hidden:e=>!e.pagination},itemsPerPage:{type:f.Number,defaultValue:4,min:1,step:1,displayStepper:!0,hidden:e=>!e.pagination},filtering:{type:f.Boolean,defaultValue:!1},favouriting:{type:f.Boolean,defaultValue:!1},favouritesOnly:{type:f.Boolean,defaultValue:!1,hidden:e=>!e.favouriting},search:{type:f.Boolean,defaultValue:!1},searchFields:{type:f.Array,defaultValue:[{fieldType:"default",fieldName:"Title"}],title:"Fields",control:{type:f.Object,controls:{fieldType:{type:f.Enum,defaultValue:"default",options:["reference","default"],optionTitles:["Yes","No"],displaySegmentedControl:!0,title:"Reference"},fieldName:{type:f.String,defaultValue:"Title",placeholder:"CMS Field Name",preventLocalization:!0},referenceFieldName:{type:f.String,defaultValue:"",placeholder:"CMS Field Name",preventLocalization:!0,hidden:e=>e.fieldType!=="reference"}}},description:"CMS fields to search",hidden:e=>!e.search},randomize:{type:f.Boolean,defaultValue:!1},sorting:{type:f.Boolean,defaultValue:!1,hidden:e=>e.randomize},sortingField:{type:f.Object,optional:!0,hidden:e=>e.randomize||!e.sorting,controls:wt()},slugFieldName:{type:f.String,defaultValue:"Slug",placeholder:"Slug Field Name",preventLocalization:!0,hidden:e=>!e.favouriting&&!e.sorting},cmsCollectionName:{type:f.String,defaultValue:"",preventLocalization:!0,hidden:e=>!0}});function un({child:e,componentConfig:i}){let t=e?.props?.children?.props?.children,o=t?.props,r=o?.children,a=i.variant;if(!r)return e;let s=it(t,a);if(s)return s;if(o&&typeof o=="object"&&o?.hasOwnProperty("href")){let l=it(o.children?.props?.children,a);if(l)return de(t,{children:{...o?.children,props:{...o?.children?.props,children:l}}})}let d=it(o?.children,a);return d?de(t,{children:d}):s?.props?.hasOwnProperty("variant")?de(r,{variant:a}):e}var pn=Qe(un),mn=Qe(De);function it(e,i){let t=e?.props,o=t?.children;if(e?.type==et)return k(et,{...t,children:(...r)=>{let a=o(...r);return de(a,{children:{...a.props.children,props:{...a.props.children.props,children:{...a.props.children.props.children,props:{...a.props.children.props.children.props,variant:i}}}}})}});if(!o?.type?.propertyControls){let r=o?.props?.children;if(o&&r&&r.type?.propertyControls?.variant)return de(o,{children:{...r,props:{...r.props,variant:i}}})}return null}function yn(e,i){let t=e.slice(),o=i,r=()=>{let a=Math.sin(o++)*1e4;return a-Math.floor(a)};for(let a=t.length-1;a>0;a--){let s=Math.floor(r()*(a+1));[t[a],t[s]]=[t[s],t[a]]}return t}function zt(e,i,t,o,r,a,s=""){let d=r[a]?.[e]||null,l="",S="";if(d)if(d.type==="collectionreference"){let m=d.id,v=r[m];if(v){let C=v[i==="reference"?t:s];C&&(o&&o!==C.type?(l=e,S=C.type):d={...C,id:`${m}.${C.id}`})}}else d.type!==i&&(l=e,S=i);return{property:d,mismatchedFieldName:l,mismatchedFieldType:S}}function Ut(e,i,t,o,r,a){if(e.type==="multicollectionreference"&&Array.isArray(i))for(let s of i){if(!s)continue;let d=s[e.referenceId];if(d!=null&&Ht(d,t,e.referenceType,o,r))return!0}else return i==null?!1:Ht(i,t,e.type,o,r);return!1}function Ht(e,i,t,o,r){if(typeof i=="string"&&o){let a=i.split(Ee);switch(t){case A.String:case A.Enum:if(r){for(let s of a)if(e.includes(s))return!0}else if(a.includes(e))return!0;break}}else switch(t){case A.Boolean:if(e==i)return!0;break;case A.String:case A.Enum:if(r){if(e?.includes(i))return!0}else if(e==i)return!0;break}return!1}function Wt(e,i,t,o,r,a,s){let d=Object.keys(i),l=d.length;if(e?.select&&(l||t||r?.sortBy==="field")){let S=[];if(l)for(let v of d){let u=i[v];if(u.fieldType===ye.MultipleOptions)for(let C of u.fieldName.split(Ee))S.push({name:C});else u.fieldType===ye.Reference?S.push({name:u.fieldName,referenceFieldName:u.referenceFieldName}):S.push({name:u.fieldName})}for(let v of o)v.fieldType==="reference"?S.push({name:v.fieldName,referenceFieldName:v.referenceFieldName}):S.push({name:v.fieldName});r&&r.sortBy==="field"&&S.push({name:r.fieldName});let m=[];for(let v of S)m.some(u=>u.name===v.name&&u.referenceFieldName===v.referenceFieldName)||m.push(v);return Et(m,e,a,s)}return e?.select}function hn(e,i,t,o,r){if(!Array.isArray(e)||typeof i!="object"||typeof o!="object"||typeof r!="object"||typeof t!="string")return e;let a=i[t],s=e.map(d=>({...d}));for(let d of Object.keys(a)){let l=a[d];if(l.type==="enum"){let S={};if(l.options&&l.optionTitles)for(let m=0;m<l.options.length;m++)S[l.options[m]]=l.optionTitles[m];for(let m of s)m[d]&&(m[d]=S[m[d]]||"")}else if(l.type==="multicollectionreference"){let S=r[d],m=o[S];if(m)for(let v of s){let u=v[S],C=i[S],_=[];if(Array.isArray(u)&&typeof C=="object"){let V=u.map(x=>{let g=typeof x=="string"?m[x]:x;return g?{...g}:{}});for(let x of Object.keys(C)){let g=C[x];if(g.type==="enum"){let H={};if(g.options&&g.optionTitles)for(let L=0;L<g.options.length;L++)H[g.options[L]]=g.optionTitles[L];for(let L of V)L[x]&&(L[x]=H[L[x]]||"")}}for(let x of V)_.push(x)}v[d]=_}}}return s}function qt(e,i){if(e==null||e==null)return 0;let t=String(e).toLowerCase();return t==i?4:t.includes(i)?t.startsWith(i)?3:(" "+t+" ").includes(" "+i+" ")?2:1:0}var gn=({value:e,children:i})=>{let t=Ft(Ke),o=e??t.transition,r=W(()=>({...t,transition:o}),[JSON.stringify(o)]);return k(Ke.Provider,{value:r,children:i})};export{Rt as a,an as b,Lt as c,Gt as d};
//# sourceMappingURL=chunk-FWSWDDQN.mjs.map
