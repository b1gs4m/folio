import{create}from"https://framerusercontent.com/modules/XPZpWLgM1p9otlAim6ab/YZGwyfuvWTDLYoiYQunH/zustand.js";import Cookies from"js-cookie";const useBaseStore=create((set,get)=>({collections:{},getFavourites:slugFieldId=>{const state=get().collections[slugFieldId];return
state||[];},setFavourites:(slugFieldId,favourites)=>{set(state=>({collections:{...state.collections,[slugFieldId]:favourites}}));Cookies.set(`superfieldsFavourites_${slugFieldId}`,favourites);},addFavourite:(slugFieldId,favourite)=>{const currentFavourites=get().getFavourites(slugFieldId);get().setFavourites(slugFieldId,[...currentFavourites,favourite]);},removeFavourite:(slugFieldId,favouriteToRemove)=>{const
currentFavourites=get().getFavourites(slugFieldId);get().setFavourites(slugFieldId,currentFavourites.filter(fav=>fav!==favouriteToRemove));}}));const useFavouriteStore=(slugFieldId,selector,cmsCollectionName=null)=>{return useBaseStore(state=>{let newState={favourites:state.getFavourites(slugFieldId)};if(!Array.isArray(state.collections[slugFieldId])){//
Load favourites from cookies try{const cookieId=`superfieldsFavourites_${slugFieldId}`;let savedState=Cookies.get(cookieId);if(!savedState&&cmsCollectionName){const cmsNameCookieId=`superfieldsFavourites_${cmsCollectionName}`;savedState=Cookies.get(cmsNameCookieId);if(savedState){Cookies.set(cookieId,savedState);Cookies.remove(cmsNameCookieId);}}if(savedState){const
savedFavourites=savedState.split(",");state.setFavourites(slugFieldId,savedFavourites);newState.favourites=savedFavourites;}}catch(error){console.error("Failed to load or parse favourites cookie:",error);}}for(const key in state){const value=state[key];if(typeof
value==="function"){newState[key]=(...args)=>value(slugFieldId,...args);}else{newState[key]=value;}}return selector(newState);});};export default useFavouriteStore; export const __FramerMetadata__ = {"exports":{"default":{"type":"variable","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./FavouriteStore.map