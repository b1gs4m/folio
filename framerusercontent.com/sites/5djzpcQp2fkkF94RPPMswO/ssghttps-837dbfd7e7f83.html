import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";import{useState,useRef,useEffect}from"react";import{addPropertyControls,ControlType,motion}from"framer";import styled from"styled-components";const TruncateTextContainer=styled(motion.div)` overflow:
hidden; display: -webkit-box; -webkit-line-clamp: ${({lines})=>lines}; -webkit-box-orient: vertical; text-overflow: ellipsis; word-wrap: break-word; overflow-wrap: break-word; white-space: pre-line; ${({lines})=>lines==="none"?"display: block;":""} `;const
ExpandButtonContainer=styled.div` display: flex; justify-content: ${({align})=>align}; `;const ExpandButton=styled.button` background: none; border: none; color: ${({buttonColor})=>buttonColor}; cursor: pointer; padding: 0; margin-top: ${({marginTop})=>marginTop}px;
text-decoration: ${({underline})=>underline?"underline":"none"}; `;/** * @framerDisableUnlink * * @framerSupportedLayoutWidth any-prefer-fixed * @framerSupportedLayoutHeight 100% */export default function TextTruncate({text,font,textColor,lines,fontSize,showButton,buttonSettings}){const[isExpanded,setIsExpanded]=useState(false);const[collapsedHeight,setCollapsedHeight]=useState(0);const[fullHeight,setFullHeight]=useState("auto");const[hasMounted,setHasMounted]=useState(false);const
containerRef=useRef(null);useEffect(()=>{if(containerRef.current){const lineHeight=parseInt(window.getComputedStyle(containerRef.current).lineHeight);const newCollapsedHeight=lineHeight*lines;setCollapsedHeight(newCollapsedHeight);// Temporarily set no
line clamp to measure full height containerRef.current.style.webkitLineClamp="none";setFullHeight(containerRef.current.scrollHeight);// Restore line clamp containerRef.current.style.webkitLineClamp=lines;}// Set the component as mounted setHasMounted(true);},[lines,fontSize,text,isExpanded]);const
dynamicStyle={fontSize:`${fontSize}px`,fontFamily:font.family,fontStyle:font.style,color:textColor,...font};const buttonDynamicStyle={fontSize:`${fontSize}px`,fontFamily:buttonSettings.buttonFont.family,fontStyle:buttonSettings.buttonFont.style,...buttonSettings.buttonFont};const
height=isExpanded?fullHeight:collapsedHeight;return /*#__PURE__*/_jsxs("div",{children:[/*#__PURE__*/_jsx(TruncateTextContainer,{ref:containerRef,style:dynamicStyle,lines:isExpanded?"none":lines,animate:hasMounted?{height}:undefined,transition:hasMounted?buttonSettings.transition:{duration:0},children:text}),showButton&&/*#__PURE__*/_jsx(ExpandButtonContainer,{align:buttonSettings.buttonAlignment,children:/*#__PURE__*/_jsx(ExpandButton,{buttonColor:buttonSettings.buttonColor,underline:buttonSettings.underline,marginTop:buttonSettings.marginTop,style:buttonDynamicStyle,onClick:()=>setIsExpanded(!isExpanded),children:isExpanded?buttonSettings.buttonLabelCollapse:buttonSettings.buttonLabelExpand})})]});}TextTruncate.defaultProps={text:"With
its dynamic truncation, smooth transitions, and extensive styling options, it provides an enhanced user experience for content display and interaction. The component ensures cross-browser compatibility and leverages the powerful capabilities of Framer
Motion for animations.",font:{family:"Inter",style:"normal"},textColor:"#999999",lines:2,fontSize:18,showButton:false,buttonSettings:{buttonFont:{family:"Inter",style:"normal"},buttonColor:"#007BFF",buttonLabelExpand:"Show More",buttonLabelCollapse:"Show
Less",underline:true,marginTop:8,buttonAlignment:"flex-start",transition:{type:"spring",stiffness:400,damping:50}}};addPropertyControls(TextTruncate,{text:{type:ControlType.String,title:"Text",defaultValue:"This is a long text that will be truncated if
it exceeds the container's width.",displayTextArea:true},font:{type:ControlType.Font,title:"Font",defaultValue:"Inter",controls:"extended"},textColor:{type:ControlType.Color,title:"Color",defaultValue:"#999999"},lines:{type:ControlType.Number,title:"Lines",defaultValue:2,min:1,max:10,step:1,displayStepper:true},showButton:{type:ControlType.Boolean,title:"Show
More",defaultValue:false},buttonSettings:{type:ControlType.Object,title:"Button",controls:{buttonFont:{type:ControlType.Font,title:"Font",defaultValue:"Inter",controls:"extended"},buttonColor:{type:ControlType.Color,title:"Color",defaultValue:"#007BFF"},buttonLabelExpand:{type:ControlType.String,title:"More
Label",defaultValue:"Show More"},buttonLabelCollapse:{type:ControlType.String,title:"Less Label",defaultValue:"Show Less"},underline:{type:ControlType.Boolean,title:"Underline",defaultValue:true},marginTop:{type:ControlType.Number,title:"Top Margin",defaultValue:8,min:0,max:50,step:1,displayStepper:true},buttonAlignment:{type:ControlType.SegmentedEnum,title:"Alignment",options:["flex-start","center","flex-end"],optionTitles:["Left","Center","Right"],defaultValue:"flex-start"},transition:{type:ControlType.Transition,title:"Transition",defaultValue:{type:"spring",stiffness:400,damping:50}}},hidden:({showButton})=>!showButton}});
export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"TextTruncate","slots":[],"annotations":{"framerDisableUnlink":"*","framerSupportedLayoutHeight":"100%","framerSupportedLayoutWidth":"any-prefer-fixed","framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./TextTruncate.map